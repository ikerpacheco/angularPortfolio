{"ast":null,"code":"import { FormGroup, FormControl } from '@angular/forms';\nimport nodemailer from 'nodemailer';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction ContactComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Please complete this field*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Please complete this field*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Please complete this field*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactComponent_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" *Please complete this field*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \"Message sent succesfully!\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ContactComponent {\n  constructor() {\n    this.name_missing = false;\n    this.email_missing = false;\n    this.subject_missing = false;\n    this.message_missing = false;\n    this.form_submitted = false;\n    this.contactForm = new FormGroup({\n      name: new FormControl(''),\n      email: new FormControl(''),\n      subject: new FormControl(''),\n      message: new FormControl('')\n    });\n    // Configure the transporter\n    this.transporter = nodemailer.createTransport({\n      // Update the SMTP settings with your own email provider's details\n      host: \"smtp.example.com\",\n      port: 587,\n      secure: false,\n      auth: {\n        user: \"your-email@example.com\",\n        pass: \"your-password\"\n      }\n    });\n  }\n  ngOnInit() {}\n  checkInputs() {\n    if (this.contactForm.value.name === \"\") this.name_missing = true;else this.name_missing = false;\n    if (this.contactForm.value.email === \"\") this.email_missing = true;else this.email_missing = false;\n    if (this.contactForm.value.subject === \"\") this.subject_missing = true;else this.subject_missing = false;\n    if (this.contactForm.value.message === \"\") this.message_missing = true;else this.message_missing = false;\n  }\n  sendEmail(options) {\n    return new Promise((resolve, reject) => {\n      this.transporter.sendMail(options, (error, info) => {\n        if (error) {\n          reject(error);\n        } else {\n          resolve(info);\n        }\n      });\n    });\n  }\n  submitForm() {\n    this.checkInputs();\n    if (!this.name_missing && !this.email_missing && !this.subject_missing && !this.message_missing) {\n      this.form_submitted = true;\n      console.log(\"Form submitted successfully\");\n      const emailOptions = {\n        from: this.contactForm.value.email ?? \"default-email@example.com\",\n        to: \"ikerpacheco@gmail.com\",\n        subject: this.contactForm.value.subject ?? \"No subject\",\n        text: `\n          Message: ${this.contactForm.value.message}\n        `\n      };\n      this.sendEmail(emailOptions).then(result => {\n        console.log(result);\n        this.contactForm.reset();\n      }).catch(error => {\n        console.error(error);\n      });\n      setTimeout(() => {\n        this.form_submitted = false;\n      }, 5000);\n    } else {\n      console.log(\"Missing fields\");\n    }\n  }\n}\nContactComponent.ɵfac = function ContactComponent_Factory(t) {\n  return new (t || ContactComponent)();\n};\nContactComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContactComponent,\n  selectors: [[\"app-contact\"]],\n  decls: 27,\n  vars: 6,\n  consts: [[1, \"inputs\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"input-group\"], [\"for\", \"\"], [4, \"ngIf\"], [\"formControlName\", \"name\", \"id\", \"name\", \"placeholder\", \"Your name\", \"type\", \"text\", 1, \"basic-input\"], [\"formControlName\", \"email\", \"id\", \"email\", \"placeholder\", \"Your email\", \"type\", \"text\", 1, \"basic-input\"], [\"formControlName\", \"subject\", \"id\", \"subject\", \"placeholder\", \"What do you want to talk about?\", \"type\", \"text\", 1, \"basic-input\"], [\"formControlName\", \"message\", \"id\", \"message\", \"placeholder\", \"Write your message here\", \"type\", \"text\", 1, \"message-input\"], [\"type\", \"submit\", \"id\", \"send-contact\", 1, \"primary-button\"], [\"style\", \"color: green;\", 4, \"ngIf\"], [2, \"color\", \"green\"]],\n  template: function ContactComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Contact\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function ContactComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Name \");\n      i0.ɵɵtemplate(7, ContactComponent_span_7_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\", 3);\n      i0.ɵɵtext(11, \"Email \");\n      i0.ɵɵtemplate(12, ContactComponent_span_12_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 3);\n      i0.ɵɵtext(16, \"Subject \");\n      i0.ɵɵtemplate(17, ContactComponent_span_17_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 2)(20, \"label\", 3);\n      i0.ɵɵtext(21, \"Message \");\n      i0.ɵɵtemplate(22, ContactComponent_span_22_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 9);\n      i0.ɵɵtext(25, \"Send\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(26, ContactComponent_p_26_Template, 2, 0, \"p\", 10);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.contactForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.name_missing);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.email_missing);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.subject_missing);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.message_missing);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.form_submitted);\n    }\n  },\n  dependencies: [i1.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    margin: auto 20%;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.input-group[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: left;\\r\\n    flex-direction: column;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.inputs[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.basic-input[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 1.5rem;\\r\\n    height: 2rem;\\r\\n    width: 30rem;\\r\\n    border-radius: 15px;\\r\\n    border: 2px solid;\\r\\n    padding-left: 1rem;\\r\\n    font-family: 'Poppins', sans-serif;\\r\\n}\\r\\n\\r\\n.basic-input[_ngcontent-%COMP%]:hover {\\r\\n    border-color: var(--primary-color);\\r\\n    transition: 0.2s;\\r\\n}\\r\\n\\r\\n.basic-input[_ngcontent-%COMP%]:focus {\\r\\n    outline: none;\\r\\n    border-color: var(--primary-color);\\r\\n    transition: 0.2s;\\r\\n}\\r\\n\\r\\nlabel[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 0.5rem;\\r\\n}\\r\\n\\r\\n.message-input[_ngcontent-%COMP%] {\\r\\n    align-items: initial;\\r\\n    margin-bottom: 1.5rem;\\r\\n    height: 15rem;\\r\\n    width: 30rem;\\r\\n    border-radius: 15px;\\r\\n    border: 2px solid;\\r\\n    padding-left: 1rem;\\r\\n    font-family: 'Poppins', sans-serif;\\r\\n}\\r\\n\\r\\n.message-input[_ngcontent-%COMP%]:hover {\\r\\n    border-color: var(--primary-color);\\r\\n    transition: 0.2s;\\r\\n}\\r\\n\\r\\n.message-input[_ngcontent-%COMP%]:focus {\\r\\n    outline: none;\\r\\n    border-color: var(--primary-color);\\r\\n    transition: 0.2s;\\r\\n}\\r\\n\\r\\n#send-contact[_ngcontent-%COMP%] {\\r\\n    margin-left: 70%;\\r\\n}\\r\\n\\r\\nspan[_ngcontent-%COMP%] {\\r\\n    color: var(--primary-color);\\r\\n    font-size: smaller;\\r\\n    font-weight: 200;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGFjdC9jb250YWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixxQkFBcUI7SUFDckIsc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsV0FBVztBQUNmOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLFlBQVk7SUFDWixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsa0NBQWtDO0FBQ3RDOztBQUVBO0lBQ0ksa0NBQWtDO0lBQ2xDLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixrQ0FBa0M7SUFDbEMsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksb0JBQW9CO0lBQ3BCLHFCQUFxQjtJQUNyQixhQUFhO0lBQ2IsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLGtDQUFrQztJQUNsQyxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0NBQWtDO0lBQ2xDLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLDJCQUEyQjtJQUMzQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW46IGF1dG8gMjAlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuZm9ybSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmlucHV0LWdyb3VwIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5pbnB1dHMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmJhc2ljLWlucHV0IHtcclxuICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcclxuICAgIGhlaWdodDogMnJlbTtcclxuICAgIHdpZHRoOiAzMHJlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZDtcclxuICAgIHBhZGRpbmctbGVmdDogMXJlbTtcclxuICAgIGZvbnQtZmFtaWx5OiAnUG9wcGlucycsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5iYXNpYy1pbnB1dDpob3ZlciB7XHJcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgdHJhbnNpdGlvbjogMC4ycztcclxufVxyXG5cclxuLmJhc2ljLWlucHV0OmZvY3VzIHtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgdHJhbnNpdGlvbjogMC4ycztcclxufVxyXG5cclxubGFiZWwge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG59XHJcblxyXG4ubWVzc2FnZS1pbnB1dCB7XHJcbiAgICBhbGlnbi1pdGVtczogaW5pdGlhbDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcclxuICAgIGhlaWdodDogMTVyZW07XHJcbiAgICB3aWR0aDogMzByZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgYm9yZGVyOiAycHggc29saWQ7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDFyZW07XHJcbiAgICBmb250LWZhbWlseTogJ1BvcHBpbnMnLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4ubWVzc2FnZS1pbnB1dDpob3ZlciB7XHJcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgdHJhbnNpdGlvbjogMC4ycztcclxufVxyXG5cclxuLm1lc3NhZ2UtaW5wdXQ6Zm9jdXMge1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICB0cmFuc2l0aW9uOiAwLjJzO1xyXG59XHJcblxyXG4jc2VuZC1jb250YWN0IHtcclxuICAgIG1hcmdpbi1sZWZ0OiA3MCU7XHJcbn1cclxuXHJcbnNwYW4ge1xyXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgZm9udC1zaXplOiBzbWFsbGVyO1xyXG4gICAgZm9udC13ZWlnaHQ6IDIwMDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","FormControl","nodemailer","i0","ContactComponent","constructor","name","email","subject","message","transporter","createTransport","host","port","secure","auth","user","pass","ngOnInit","checkInputs","contactForm","value","name_missing","email_missing","subject_missing","message_missing","sendEmail","options","Promise","resolve","reject","sendMail","error","info","submitForm","form_submitted","console","log","emailOptions","from","to","text","then","result","reset","catch","setTimeout","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ikerp\\Epitech\\HUB\\hub_portfolio\\angularPortfolio\\src\\app\\contact\\contact.component.ts","C:\\Users\\ikerp\\Epitech\\HUB\\hub_portfolio\\angularPortfolio\\src\\app\\contact\\contact.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport nodemailer, { Transporter } from 'nodemailer';\r\n\r\n@Component({\r\n  selector: 'app-contact',\r\n  templateUrl: './contact.component.html',\r\n  styleUrls: ['./contact.component.css']\r\n})\r\nexport class ContactComponent implements OnInit {\r\n  name_missing: boolean = false;\r\n  email_missing: boolean = false;\r\n  subject_missing: boolean = false;\r\n  message_missing: boolean = false;\r\n  form_submitted: boolean = false;\r\n  contactForm = new FormGroup({\r\n    name: new FormControl(''),\r\n    email: new FormControl(''),\r\n    subject: new FormControl(''),\r\n    message: new FormControl('')\r\n  });\r\n  private transporter: Transporter;\r\n\r\n  constructor() {\r\n    // Configure the transporter\r\n    this.transporter = nodemailer.createTransport({\r\n      // Update the SMTP settings with your own email provider's details\r\n      host: \"smtp.example.com\",\r\n      port: 587,\r\n      secure: false,\r\n      auth: {\r\n        user: \"your-email@example.com\",\r\n        pass: \"your-password\",\r\n      },\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  checkInputs() {\r\n    if (this.contactForm.value.name === \"\")\r\n      this.name_missing = true;\r\n    else\r\n      this.name_missing = false;\r\n    if (this.contactForm.value.email === \"\")\r\n      this.email_missing = true;\r\n    else\r\n      this.email_missing = false;\r\n    if (this.contactForm.value.subject === \"\")\r\n      this.subject_missing = true;\r\n    else\r\n      this.subject_missing = false;\r\n    if (this.contactForm.value.message === \"\")\r\n      this.message_missing = true;\r\n    else\r\n      this.message_missing = false;\r\n  }\r\n\r\n  sendEmail(options: EmailOptions): Promise<nodemailer.SentMessageInfo> {\r\n    return new Promise((resolve, reject) => {\r\n      this.transporter.sendMail(options, (error: Error, info: nodemailer.SentMessageInfo) => {\r\n        if (error) {\r\n          reject(error);\r\n        } else {\r\n          resolve(info);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  \r\n  submitForm() {\r\n    this.checkInputs();\r\n\r\n    if (!this.name_missing && !this.email_missing && !this.subject_missing && !this.message_missing) {\r\n      this.form_submitted = true;\r\n      console.log(\"Form submitted successfully\");\r\n\r\n      const emailOptions: EmailOptions = {\r\n        from: this.contactForm.value.email ?? \"default-email@example.com\",\r\n        to: \"ikerpacheco@gmail.com\",\r\n        subject: this.contactForm.value.subject ?? \"No subject\",\r\n        text: `\r\n          Message: ${this.contactForm.value.message}\r\n        `\r\n      };\r\n\r\n      this.sendEmail(emailOptions)\r\n        .then((result) => {\r\n          console.log(result);\r\n          this.contactForm.reset();\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n\r\n      setTimeout(() => {\r\n        this.form_submitted = false;\r\n      }, 5000);\r\n    } else {\r\n      console.log(\"Missing fields\");\r\n    }\r\n  }\r\n}\r\n\r\ninterface EmailOptions {\r\n  from: string;\r\n  to: string;\r\n  subject: string;\r\n  text: string;\r\n}\r\n","<h2>Contact</h2>\r\n<div class=\"inputs\">\r\n    <form [formGroup]=\"contactForm\" (ngSubmit)=\"submitForm()\">\r\n        <div class=\"input-group\">\r\n            <label for=\"\">Name <span *ngIf=\"name_missing\">   *Please complete this field*</span></label>\r\n            <input formControlName=\"name\" id=\"name\" placeholder=\"Your name\" class=\"basic-input\" type=\"text\">\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <label for=\"\">Email <span *ngIf=\"email_missing\">   *Please complete this field*</span></label>\r\n            <input formControlName=\"email\" id=\"email\" placeholder=\"Your email\" class=\"basic-input\" type=\"text\">\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <label for=\"\">Subject <span *ngIf=\"subject_missing\">   *Please complete this field*</span></label>\r\n            <input formControlName=\"subject\" id=\"subject\" placeholder=\"What do you want to talk about?\" class=\"basic-input\" type=\"text\">\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <label for=\"\">Message <span *ngIf=\"message_missing\">   *Please complete this field*</span></label>\r\n            <input formControlName=\"message\" id=\"message\" placeholder=\"Write your message here\" class=\"message-input\" type=\"text\">\r\n        </div>\r\n        <button type=\"submit\" class=\"primary-button\" id=\"send-contact\">Send</button>\r\n        <p *ngIf=\"form_submitted\" style=\"color: green;\">Message sent succesfully!</p>\r\n    </form>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}